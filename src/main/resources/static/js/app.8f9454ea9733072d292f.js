webpackJsonp([1],{M6eU:function(e,t,r){e.exports=r.p+"static/img/hardChair.5d08cea.png"},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("//Fk"),o=r.n(a),i=r("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=r("VU/8")({name:"App"},n,!1,function(e){r("m7Ww")},null,null).exports,s=r("/ocq"),p={name:"Login",data:function(){return{loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"",trigger:"blur"}],password:[{required:!0,message:"",trigger:"blur"}]},loading:!1}},methods:{login:function(){var e=this;this.$axios.post("login",{username:this.loginForm.username,password:this.loginForm.password}).then(function(t){200===t.status?(e.$router.push({path:"OpenMeeting"}),alert("登陆成功")):alert("登陆失败")}).catch(function(e){console.log(e),alert("登陆失败")})}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"base_login"}},[r("div",{staticClass:"table_container"},[r("table",[r("tr",[e._m(0),e._v(" "),r("th",[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"loginForm",staticClass:"login_container",attrs:{model:e.loginForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[r("h3",{staticClass:"login_title"},[e._v("Login")]),e._v(" "),r("el-form-item",{staticStyle:{width:"200px","margin-left":"125px"},attrs:{prop:"username"}},[r("el-input",{ref:"test",attrs:{type:"text","auto-complete":"off",placeholder:"username",id:"name"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"200px","margin-left":"125px"},attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticClass:"btn btn-default",staticStyle:{width:"40%",background:"#afb4db",border:"none","margin-top":"0px","margin-left":"35px"},attrs:{type:"button"},on:{click:e.login}},[e._v("login")]),e._v(" "),r("router-link",{attrs:{to:"register"}},[r("el-button",{staticClass:"btn btn-default",staticStyle:{width:"40%",background:"#afb4db",border:"none","margin-top":"0px","margin-left":"10px"},attrs:{type:"button"}},[e._v("register")])],1)],1)],1)],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("th",[t("div",{attrs:{id:"picture_part"}},[t("img",{attrs:{src:r("M6eU"),alt:"hardChair"}})])])}]};var u=r("VU/8")(p,m,!1,function(e){r("fqgF")},null,null).exports,c={name:"Register",data:function(){var e=this,t=function(t,r,a){return r&&""!==r?e.registerForm.username===e.registerForm.password?a(new Error("用户名，密码不能一致")):a():a(new Error("Can't be empty "))};return{registerForm:{username:"",password:"",email:"",unit:"",area:""},rules:{username:[{required:!0,message:"不能为空",trigger:"blur"},{pattern:/^[a-zA-Z\_]{1,1}([a-zA-Z0-9]|[-_]){4,31}$/g,message:"请输入正确的用户名格式",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{required:!0,message:"不能为空",trigger:"blur"},{pattern:/(?!^(\d+|[a-zA-Z]+|[-_]+)$)^[\w-_]{5,31}$/g,message:"请输入正确的密码格式",trigger:"blur"},{validator:t,trigger:"blur"}],email:[{required:!0,message:"不能为空",trigger:"blur"},{pattern:/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/g,message:"请输入正确的邮箱",trigger:"blur"},{validator:t,trigger:"blur"}],unit:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],area:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}]},loading:!1}},methods:{userTypeChange:function(){},register:function(e){var t=this;this.$refs[e].validate(function(e){e?t.$axios.post("register",{username:t.registerForm.username,password:t.registerForm.password,email:t.registerForm.email,unit:t.registerForm.unit,area:t.registerForm.area}).then(function(e){200===e.status?(alert("注册成功"),t.$router.push({path:"OpenMeeting"})):400===e.status&&alert("注册失败")}).catch(function(e){console.log(e),alert("注册失败")}):alert("注册失败-错误的提交")})}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"base_register"}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:e.registerForm,staticClass:"register_container",attrs:{model:e.registerForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[r("h3",{staticClass:"register_title"},[e._v("Register")]),e._v(" "),r("p",[e._v(" 用户名")]),e._v(" "),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{ref:"test",attrs:{type:"text","auto-complete":"off",placeholder:"username",id:"name"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),e._v(" "),r("p",[e._v("密码")]),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"password"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),e._v(" "),r("p",[e._v("邮箱")]),e._v(" "),r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"email"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),e._v(" "),r("p",[e._v("所属单位")]),e._v(" "),r("el-form-item",{attrs:{prop:"unit"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"Fudan University"},model:{value:e.registerForm.unit,callback:function(t){e.$set(e.registerForm,"unit",t)},expression:"registerForm.unit"}})],1),e._v(" "),r("p",[e._v("所属区域")]),e._v(" "),r("el-form-item",{attrs:{prop:"area"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"China"},model:{value:e.registerForm.area,callback:function(t){e.$set(e.registerForm,"area",t)},expression:"registerForm.area"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"100%","margin-top":"20px"}},[r("el-button",{staticStyle:{width:"40%",background:"#afb4db",border:"none"},attrs:{type:"primary"},on:{click:function(t){return e.register(e.registerForm)}}},[e._v("register")])],1)],1)],1)},staticRenderFns:[]};var g=r("VU/8")(c,d,!1,function(e){r("lraj")},"data-v-13adbf32",null).exports,f=r("NYxO");i.default.use(f.a);var v=new f.a.Store({state:{token:localStorage.getItem("token")||null,userDetails:localStorage.getItem("userDetails")||null},mutations:{login:function(e,t){localStorage.setItem("token",t.token),localStorage.setItem("userDetails",t.userDetails),e.user=t.userDetails,e.token=t.token},logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userDetails"),e.userDetails=null,e.token=null}},actions:{}}),h={name:"Open",data:function(){return{applicationForm:{shortname:"",fullname:"",time:"",place:"",deadline:"",releasetime:""},rules:{shortname:[{required:!0,message:"",trigger:"blur"}],fullname:[{required:!0,message:"",trigger:"blur"}],time:[{required:!0,message:"",trigger:"blur"}],place:[{required:!0,message:"",trigger:"blur"}],deadline:[{required:!0,message:"",trigger:"blur"}],releasetime:[{required:!0,message:"",trigger:"blur"}]},loading:!1}},methods:{openmeeting:function(){var e=this;this.$axios.post("openmeeting",{shortname:this.applicationForm.shortname,fullname:this.applicationForm.fullname,time:this.applicationForm.time,place:this.applicationForm.place,deadline:this.applicationForm.deadline,releasetime:this.applicationForm.releasetime}).then(function(t){200===t.status?(alert("申请成功"),e.$router.push({path:"openMeeting"})):alert("申请错误1")}).catch(function(e){console.log(e),alert("该会议已存在")})}}},_={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"base_application"}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login_container",attrs:{model:e.applicationForm,rules:e.rules,"label-position":"left","label-width":"0px"}},[r("h3",{staticClass:"application_title"},[e._v("会议开设")]),e._v(" "),r("el-form-item",{attrs:{prop:"shortname"}},[r("p",[e._v("会议简称：")]),e._v(" "),r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"如ICSE2020"},model:{value:e.applicationForm.shortname,callback:function(t){e.$set(e.applicationForm,"shortname",t)},expression:"applicationForm.shortname"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"fullname"}},[r("p",[e._v("会议全称：")]),e._v(" "),r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"如The 42nd International Conference on Software Engineering"},model:{value:e.applicationForm.fullname,callback:function(t){e.$set(e.applicationForm,"fullname",t)},expression:"applicationForm.fullname"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"time"}},[r("p",[e._v("举办时间：")]),e._v(" "),r("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:e.applicationForm.time,callback:function(t){e.$set(e.applicationForm,"time",t)},expression:"applicationForm.time"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"place"}},[r("p",[e._v("举办地点：")]),e._v(" "),r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"举办地点"},model:{value:e.applicationForm.place,callback:function(t){e.$set(e.applicationForm,"place",t)},expression:"applicationForm.place"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"deadline"}},[r("p",[e._v("投稿截止日期：")]),e._v(" "),r("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:e.applicationForm.deadline,callback:function(t){e.$set(e.applicationForm,"deadline",t)},expression:"applicationForm.deadline"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"releasetime"}},[r("p",[e._v("评审结果发布日期：")]),e._v(" "),r("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:e.applicationForm.releasetime,callback:function(t){e.$set(e.applicationForm,"releasetime",t)},expression:"applicationForm.releasetime"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"40%",background:"#007fdb",border:"none"},attrs:{type:"primary"},on:{click:e.openmeeting}},[e._v("开设会议")])],1)],1)],1)},staticRenderFns:[]};var b=r("VU/8")(h,_,!1,function(e){r("gvti")},"data-v-2df29e40",null).exports;i.default.use(s.a);var F=new s.a({routes:[{path:"/login",name:"Login",component:u},{path:"/register",name:"Register",component:g},{path:"/openMeeting",name:"OpenMeeting",component:b,meta:{requireAuth:!0}}]}),w=r("zL8q"),y=r.n(w);r("tvR6");i.default.use(y.a);var x=r("mtWM");i.default.prototype.$axios=x,x.defaults.baseURL="/api",x.defaults.withCredentials=!0,x.defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",i.default.config.productionTip=!1,x.interceptors.request.use(function(e){return v.state.token&&(e.headers.Authorization="Bearer ${store.state.token}"),e},function(e){return o.a.reject(e)}),x.interceptors.response.use(function(e){return e},function(e){return console.log(e.response),e&&(v.commit("logout"),"/login"!==F.currentRoute.path&&"/register"!==F.currentRoute.path&&F.replace({path:"/login",query:{redirect:F.currentRoute.path}})),o.a.reject(e.response.data)}),new i.default({el:"#app",router:F,store:v,components:{App:l},template:"<App/>"})},fqgF:function(e,t){},gvti:function(e,t){},lraj:function(e,t){},m7Ww:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8f9454ea9733072d292f.js.map